/* BULK INSERT = IMPORTAÇÃO DE DADOS EXTERNOS NO SQL SERVER */

--CRIE A TABELA COM OS CAMPOS QUE TEM NO ARQUIVOS PARA ABRIGAR OS DADOS--

CREATE TABLE LANCAMENTO_CONTABIL(
             CONTA INT,
	     VALOR INT,
	     PAGAMENTO CHAR(1)
)
GO

--SE NÃO TIVER PERMISSÃO O CAMINHO A SER USADO, NO C: CRIE UMA PASTA E PONHA O ARQUIVO NESTA PASTA--

BULK INSERT LANCAMENTO_CONTABIL
FROM 'C:\ARQUIVOS\CONTAS.txt'
WITH
(
      FIRSTROW = 2, --> (CASO TENHA CABEÇALHO)
	  DATAFILETYPE = 'char', --> (PADRÃO)
	  FIELDTERMINATOR = '\t', --> (DELIMITADOR, NESTE CASO TABULAÇÃO)
	  ROWTERMINATOR = '\n' --> (LER ATÉ A ÚLTIMA LINHA)

)
GO

SELECT * FROM LANCAMENTO_CONTABIL


--FIM--

/* BULK INSERT NO MYSQL */

--O MYSQL TEM UMA PASTA DE UPLOAD DE ARQUIVOS A SEREM LIDOS, E PARA ENCONTRAR ESSA PASTA E MOVER SEU ARQUIVO PARA LÁ, USE ESSE COMANDO--

SHOW VARIABLES LIKE "secure_file_priv";

DEPOIS DE SABER O CAMINHO USE ESSE COMANDO DE IMPORTAÇÃO:


MODELO:
LOAD DATA INFILE'CAMINHO(DETALHE AS BARRAS EM PADRÃO(\) DEVEM SER MUDADAS PARA (/)' 
INTO TABLE TABELA_IMPORTAÇÃO 
FIELDS TERMINATED BY '(DELIMITADOR, NESTE CASO TABULAÇÃO)' 
ENCLOSED BY '"'(PADRÃO) 
LINES TERMINATED BY '\n(PADRÃO, LER ATÉ A ÚLITMA LINHA)' 
IGNORE 1 ROWS( CASO TENHA CABEÇALHO);

IMPORTAÇÃO:
LOAD DATA INFILE 'C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/CONTAS.txt'
INTO TABLE LANCAMENTO_CONTABIL
FIELDS TERMINATED BY '\t'
ENCLOSED BY '"' 
LINES TERMINATED BY '\n'
IGNORE 1 ROWS;
